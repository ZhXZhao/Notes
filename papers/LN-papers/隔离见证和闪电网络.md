<!--
 * @Author: ZhXZhao
 * @Date: 2020-11-03 16:58:17
 * @LastEditors: ZhXZhao
 * @LastEditTime: 2020-11-18 19:05:40
 * @Description: file content
-->

# 隔离见证为闪电网络带来的便利+

隔离见证所带来的改变，为闪电网络的实现提供了一些便利，主要有3点：
1. 交易延展性的解决，让交易无法被干扰，闪电网络白皮书中提到的“人质状态” （hostage situation），得以避免；
2. 在通道的生命周期上，隔离见证让闪电网络的通道永久开启更方便实现；
3. 虽然从理论上系统是安全的，但用户还是要查看区块链中的交易是否广播撤回，防止 交易方的欺诈行为，隔离见证使得这项活动可以外包出去，只要给服务器传送少量信息， 就能代替你完成这一过程。

原生的比特币网络不能实现双向的微支付通道，其主要的原因是交易延展性。交易延展性是指在父交易被签名之前，可以先签名子交易（花费尚未完成签名的父交易的交易）的能力。因为交易在完成签名前其交易哈希（txHash）尚未确定，而子交易签名时需要用到父交易的交易哈希，因此这是一个矛盾的需求，在原生的比特币网络下无法实现。


隔离见证（SegWit）的激活解决了这一问题。


在隔离见证环境下，交易哈希的计算将不包括签名部分。因此在父交易完成签名之前，它的交易哈希已经可以确定，进而实现了先签名子交易、后签名父交易的需求。


隔离见证的激活给闪电网络带来了可能。具体来说，闪电网络是在隔离见证环境下，利用了 RSMC (revocable sequence maturity contract) （利用 sequence 参数）来实现双向的微支付通道。
