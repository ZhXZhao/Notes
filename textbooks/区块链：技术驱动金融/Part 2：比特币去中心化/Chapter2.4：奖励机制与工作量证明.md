<!--
 * @Author: ZhXZhao
 * @Date: 2020-02-09 16:28:26
 * @LastEditors  : ZhXZhao
 * @LastEditTime : 2020-02-09 19:05:01
 * @Description: 
 -->
# 奖励机制与工作量证明

---

- [奖励机制与工作量证明](#%e5%a5%96%e5%8a%b1%e6%9c%ba%e5%88%b6%e4%b8%8e%e5%b7%a5%e4%bd%9c%e9%87%8f%e8%af%81%e6%98%8e)
  - [奖励机制](#%e5%a5%96%e5%8a%b1%e6%9c%ba%e5%88%b6)
    - [区块奖励](#%e5%8c%ba%e5%9d%97%e5%a5%96%e5%8a%b1)
    - [交易费](#%e4%ba%a4%e6%98%93%e8%b4%b9)
  - [挖矿与工作量证明](#%e6%8c%96%e7%9f%bf%e4%b8%8e%e5%b7%a5%e4%bd%9c%e9%87%8f%e8%af%81%e6%98%8e)

## 奖励机制

### 区块奖励

创建区块的节点可以在区块中加入造币的交易，并指定这笔交易的接收地址（通常选择自己）。
区块奖励金额最初为50个比特币，但每生成210000个区块，金额就会减半。
奖励只有当区块最终被纳入长期共识链才会实现。

### 交易费

任何交易的制造者都可以选择让交易输出值比输入值小，第一个创建区块把交易放进区块链的人可以获得这个差额，作为交易费。交易费是完全自愿的。

## 挖矿与工作量证明

**工作量证明的核心理念**：把随机选取节点改为根据节点占有某种资源的比例来选取节点。在比特币中，这种资源为：**计算能力**。
比特币是用哈希函数解谜来证明工作量的。任何一个提议并创建区块的节点想要制造下一块，这个节点必须要找到一个数，我们把这个数称为临时随机数。当把这个临时随机数、前序块的哈希值还有要填进这个区块的交易列表连接起来，组成一整串字符，然后用哈希函数计算这一整串字符的输出值，这个输出值正好要落在一个相对于这个哈希函数所有可能的输出中很小的目标区间内。
用公式来表示的话，就是临时随机数nonce要满足下面的不等式：
<center>H(nonce||prev_hash||tx||tx||...||tx)< target</center>

哈希谜题三个特性：
1. 难于计算
   2014年底，产生一个区块平均要做$10^{20}$次哈希运算。
2. 可参数化成本
   每产生2016个区块后，所有节点都会重新计算目标区域相对于整个输出范围的比例大小，使得后续的区块产生的时间间隔约为10分钟。
   对于某一矿工：
   发现下一区块的平均时间=10分钟/占全部计算能力的比例
3. 易于证实
   其他节点可以很容易检查找到的区块中的内容，计算它的哈希值，证实它的输出在目标区域内。
