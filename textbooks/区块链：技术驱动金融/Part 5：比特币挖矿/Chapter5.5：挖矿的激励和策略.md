<!--
 * @Author: ZhXZhao
 * @Date: 2020-02-11 16:56:48
 * @LastEditors  : ZhXZhao
 * @LastEditTime : 2020-02-11 17:38:50
 * @Description: 
 -->
# 挖矿的激励和策略

---

- [挖矿的激励和策略](#%e6%8c%96%e7%9f%bf%e7%9a%84%e6%bf%80%e5%8a%b1%e5%92%8c%e7%ad%96%e7%95%a5)
  - [矿工策略上的选择](#%e7%9f%bf%e5%b7%a5%e7%ad%96%e7%95%a5%e4%b8%8a%e7%9a%84%e9%80%89%e6%8b%a9)
  - [分叉攻击](#%e5%88%86%e5%8f%89%e6%94%bb%e5%87%bb)
    - [通过贿赂进行分叉攻击](#%e9%80%9a%e8%bf%87%e8%b4%bf%e8%b5%82%e8%bf%9b%e8%a1%8c%e5%88%86%e5%8f%89%e6%94%bb%e5%87%bb)
    - [临时保留区块攻击](#%e4%b8%b4%e6%97%b6%e4%bf%9d%e7%95%99%e5%8c%ba%e5%9d%97%e6%94%bb%e5%87%bb)
    - [黑名单与惩罚分叉攻击](#%e9%bb%91%e5%90%8d%e5%8d%95%e4%b8%8e%e6%83%a9%e7%bd%9a%e5%88%86%e5%8f%89%e6%94%bb%e5%87%bb)
    - [羽量级分叉](#%e7%be%bd%e9%87%8f%e7%ba%a7%e5%88%86%e5%8f%89)
    - [逐渐转移到用交易费来奖励挖矿](#%e9%80%90%e6%b8%90%e8%bd%ac%e7%a7%bb%e5%88%b0%e7%94%a8%e4%ba%a4%e6%98%93%e8%b4%b9%e6%9d%a5%e5%a5%96%e5%8a%b1%e6%8c%96%e7%9f%bf)

## 矿工策略上的选择

1. 需要包括哪些交易？
   矿工可以选择将哪些交易放进他的区块里。默认的规则是选择那些交易费比较高的交易。
2. 对哪一个区块进行挖矿运算？
   矿工可以选择在哪个区块上进行挖矿。默认的做法是在最长的那条区块链上继续挖下去。
3. 在同一高度的多个区块中如何选择？
   如果两个不同的区块在同一时间被宣布发现，这就造成了一个区块的分叉，每个区块都是可以被延续下去的，因为它们都符合最长区块链原则。矿工必须选择其中一个区块接龙下去。默认的做法是选择最先被监听到的那一个区块。
4. 什么时候宣布新的区块？
   当矿工找到一个有效区块之后，他们要决定什么时候向比特币网络宣布这一个区块。默认做法是立刻宣布，但他们也可以选择等一下。

## 分叉攻击
这种攻击的获利方式位重复支付。一个恶意矿工付款给受害者后，跳到前一个区块开始重新挖矿。被分叉的区块链必须要覆盖当前最长的一条链，如果这个矿工掌握的哈希算力$\alpha$大于0.5，这种攻击就会成功。

### 通过贿赂进行分叉攻击
可以选择创建一个矿池，用更具诱惑的奖励来吸引其他矿工加入，提升算力。还可以在分叉的区块链中留下足够多的交易费，使其他矿工在你的分链上挖矿。

### 临时保留区块攻击
在找到一个区块后，不立刻向全网宣布，而是秘密保留下所发现的区块，继续在这个区块上挖矿，一旦在其他矿工找到下一个区块前连续找到两个有效区块，则可以在其他矿工宣布找到区块时立刻公布出两个区块，使你的区块链变成了最长的有效链。这种攻击通过浪费其他矿工的算力而增加自己的挖矿获利。通过这种攻击，算力$\alpha$大于0.333即可获得更高的收益。

### 黑名单与惩罚分叉攻击
一个矿工把来自地址X的交易列入黑名单，使来自这个地址的钱不可用。但这种黑名单机制没办法有效执行，因为有些矿工会拒绝将这个交易放进区块中，但其他矿工会接受。
如果你拥有大部分的算力，可以宣布拒绝在包含来自地址X的交易的区块链上工作，这样其他矿工很有可能不会再将这笔交易放进区块中。这种攻击称为分叉攻击。

### 羽量级分叉

与其一看到从地址X里出来的交易就宣布你会进行永久分叉，不如宣布你将会尝试分叉，但过一段时间你可能会放弃封杀的尝试。例如，你可以宣布：当k个区块证实了从这个地址出来的交易是正当的时候，你便会回到最长链。把那笔从地址X出来的交易成功封杀的概率是$\alpha^2$。原因是你必须要在其他矿工找到下一个区块之前找到连续两个区块，这样才能成功地丢弃那个包括地址X交易的区块。$\alpha^2$是你连续找到两个区块的概率。

### 逐渐转移到用交易费来奖励挖矿

因为区块奖励大约没过4年就会减半，届时区块奖励会变得很低，交易费会变成矿工挖矿的主要收入来源。